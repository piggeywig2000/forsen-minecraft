<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xQc Minecraft Tracker</title>
    <link rel="icon" type="image/x-icon" href="favicon-xqc.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css?v=815d3995cf26b56b9ce4e6dc75c0e214d5e6e923">

    <script>const STREAMER = "xqc"; const VERSION_HASH = "815d3995cf26b56b9ce4e6dc75c0e214d5e6e923";</script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.0/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="loading.js?v=815d3995cf26b56b9ce4e6dc75c0e214d5e6e923"></script>
    <script src="main.js?v=815d3995cf26b56b9ce4e6dc75c0e214d5e6e923"></script>
</head>
<body>
    <header>
        <div id="headerLinks">
            <a class="header-link no-margin" href="data/xqc_times.csv" title="Updated daily at 05:00 UTC">CSV Data</a>
            <a class="header-link no-margin" href="https://github.com/piggeywig2000/forsen-minecraft" title="Source code">GitHub</a>
        </div>
        <h1>xQc Minecraft Tracker</h1>
    </header>
    <div class="sidebar-container">
        <div class="sidebar-content">
            <p>Track xQc's time live, and set an alert for when he hits a certain time. Also view the history to see his previous throws.</p>
            <details><summary>Only Twitch streams are tracked (expand for information on Kick).</summary><p>I couldn't get Kick to work because it has stupid Cloudflare protection on its API. If anyone can figure out how to get Python to fetch from https://kick.com/api/v1/channels/xqc without Cloudflare getting in the way please let me know (@piggeywig2000 on everything).</p></details>
            <label class="switch" style="width: 14rem;">
                <input type="checkbox" id="enableAlert" name="enableAlert">
                <span class="slider"></span>
                <label for="enableAlert">Enable Alerts</label>
            </label>
            <div id="alertContainer" class="swipe-vertical-animation" style="padding: 0 1rem">
                <p id="noSoundWarning" class="no-margin error-text" style="margin-top: 0.5rem;">Your browser will probably prevent the sound from playing because you haven't interacted with the page yet. Click anywhere on the page to fix this.</p>
                <p class="no-margin" style="margin-top: 0.5rem">Play alert when he reaches this time:</p>
                <div class="leftalign-flex-container" style="margin: 0.5rem 0">
                    <input type="text" id="alertMinutes" name="alertMinutes" class="alert-time-input" placeholder="mm" inputmode="numeric">
                    <p class="no-margin">:</p>
                    <input type="text" id="alertSeconds" name="alertSeconds" class="alert-time-input" placeholder="ss" inputmode="numeric">
                </div>
                <label for="alertVolume">Volume:</label>
                <input id="volumeInput" name="alertVolume" type="range" min="0" max="1" step="0.01" value="0.5" style="width:200px; vertical-align: middle;">
                <div id="snoozeButton" class="swipe-vertical-animation">
                    <button style="margin-top: 0.5rem;">Snooze until he throws again</button>
                </div>
            </div>
            <hr style="margin: 2rem 0;">
            <div>
                <label for="displayMode">Display mode:</label>
                <select name="displayMode" id="displayMode">
                    <option value="chart" selected>Chart</option>
                    <option value="timer">Big Timer</option>
                </select>
            </div>
        </div>
    </div>
    <div class="page" pagename="chart" style="display: none;">
        <div class="sidebar-container">
            <div class="sidebar-content">
                <p>Select a date below to load the graph from a previous stream:</p>
                <div class="leftalign-flex-container">
                    <input id="historyDate" type="date">
                    <button id="historyButton" disabled>Load Stream</button>
                </div>
            </div>
        </div>
        <div id="chartControls">
            <button id="resetZoomButton" style="flex: 0 0 auto;">Reset Zoom</button>
            <p class="live-timer monospace no-margin" prefixwith="IGT: " style="flex: 0 0 auto; font-size: 2rem;"></p>
        </div>
        <div id="chartContainer">
            <div id="noData" class="page-error" style="display: none;">
                <div>No data for this stream</div>
            </div>
            <canvas id="chart"></canvas>
        </div>
    </div>
    <div id="bigTimerContainer" class="page" pagename="timer" style="display: none;">
        <p id="bigTimer" class="live-timer monospace no-margin"></p>
        <div id="noTimer" class="page-error" style="display: none;">
            <div>Timer is not visible because xQc is not slowrunning</div>
        </div>
    </div>
    <div id="loadingScreen" class="loading-blocker" style="display: none;">
        <div class="loading-content">
            <p class="loading-text">Loading</p>
            <img class="loading-image">
        </div>
    </div>
</body>
</html>